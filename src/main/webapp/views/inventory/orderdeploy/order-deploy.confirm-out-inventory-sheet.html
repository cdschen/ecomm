<div pageslide ps-open="generateOutInventorySheetCheckListSlideChecked" ps-speed="0.25" ps-size="100%" style="border-left-width: 1px; border-left-style: solid; border-left-color: #c8c8c8">
    <div id="operator-slider" style="padding:1px" class="container">
        <div class="panel panel-default">
            <div class="panel-body">
                <button type="button" class="close" ng-click="toggleOutInventorySheetSlide()">
                    <span aria-hidden="true">×</span>
                </button>
                <h3 class="text-center" style="margin: 0;">
                    <strong class="text-center text-success">操作复核</strong>
                </h3>
                <hr style="margin: 5px 0;">
                <div class="row">
                    <div class="col-md-5">
                        <div class="panel panel-info" style="height:135px">
                            <div class="panel-heading" style="padding: 5px;">
                                <h4 class="panel-title"><strong>摘要</strong></h4>
                            </div>
                            <table class="table table-condensed">
                                <tbody>
                                    <tr>
                                        <th width="30%">操作</th>
                                        <td wdith="70%">生成出库单时复核</td>
                                    </tr>
                                    <tr>
                                        <th width="30%">时间</th>
                                        <td wdith="70%">{{ operateDate | date:'yyyy-MM-dd HH:mm'}}</td>
                                    </tr>
                                    <tr>
                                        <th width="30%">操作员</th>
                                        <td wdith="70%">{{user().username}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="panel panel-info" style="height:135px">
                            <div class="panel-heading" style="padding: 5px;">
                                <h4 class="panel-title"><strong>操作规定</strong></h4>
                            </div>
                            <table class="table table-condensed">
                                <tbody>
                                    <tr>
                                        <th width="10%">A</th>
                                        <td wdith="60%">全部订单必须在同一仓库</td>
                                        <td wdith="30%">
                                            <div class="btn btn-success btn-xs pull-right" ng-disabled="true" ng-show="!operationReview().checkMap.differentWarehouseError">
                                                <span class="glyphicon glyphicon-ok"></span> 通过
                                            </div>
                                            <div class="btn btn-danger btn-xs pull-right" ng-disabled="true" ng-show="operationReview().checkMap.differentWarehouseError">
                                                <span class="glyphicon glyphicon-remove-circle"></span> 失败
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th width="10%">B</th>
                                        <td wdith="60%">全部订单商品细目必须有库存</td>
                                        <td wdith="30%">
                                            <a href="javascript:void(0)" class="btn btn-warning btn-xs pull-right">
                                                <span class="glyphicon glyphicon-warning-sign"></span> 忽略
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th width="10%">C</th>
                                        <td wdith="60%">订单在同一个仓库只能有一张出库单</td>
                                        <td wdith="30%">
                                            <a href="javascript:void(0)" class="btn btn-warning btn-xs pull-right">
                                            <span class="glyphicon glyphicon-warning-sign"></span> 忽略
                                        </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="panel panel-default" style="height:135px">
                            <div class="panel-body">
                                <button type="button" class="btn btn-success btn-lg btn-block">确定</button>
                                <button type="button" class="btn btn-default btn-lg btn-block">取消</button>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="text-danger">
                    <strong>详情：</strong>
                </p>
                <div style="padding-right:8px;">
                    <table class="table table-bordered table-condensed clear-marginbottom-table">
                        <thead>
                            <tr>
                                <th colspan="2" class="text-center">订单详情</th>
                                <th colspan="4" class="text-center">操作规定复核结果</th>
                            </tr>
                            <tr>
                                <th width="10%">订单编号</th>
                                <th width="70%">商品信息</th>
                                <th width="5%" class="text-center">A</th>
                                <th width="5%" class="text-center">B</th>
                                <th width="5%" class="text-center">C</th>
                                <th width="5%" class="text-center">操作</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div style="overflow-y:scroll; overflow-x:hidden" ng-style="defaultHeight()">
                    <table class="table table-bordered table-condensed clear-marginbottom-table">
                        <tbody>
                            <tr ng-class="{'active': order.ignoreCheck}" ng-repeat="order in operationReview().orders" >
                                <td width="10%">
                                    <strong>{{order.id}}</strong>
                                </td>
                                <td width="70%">
                                    <table class="table table-bordered table-condensed clear-marginbottom-table">
                                        <tbody>
                                            <tr ng-class="{'active': order.ignoreCheck}" ng-repeat="item in order.items">
                                                <td width="40%">
                                                    {{item.name}}
                                                </td>
                                                <td width="20%">
                                                    {{item.qtyOrdered}}
                                                </td>
                                                <td width="40%">
                                                    {{item.assignTunnel.defaultWarehouse.name}}
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td width="5%" class="text-center">
                                    <div ng-show="!order.ignoreCheck">
                                        <span class="glyphicon glyphicon-ok text-success" ng-show="!order.checkMap.differentWarehouseError"></span>
                                        <span class="glyphicon glyphicon-remove-circle text-danger" ng-show="order.checkMap.differentWarehouseError"></span>
                                    </div>
                                </td>
                                <td width="5%" class="text-center">
                                    <div ng-show="!order.ignoreCheck">
                                        <span class="glyphicon glyphicon-ok text-success" ng-show="!order.checkMap.productInventoryNotEnoughError"></span>
                                        <span class="glyphicon glyphicon-warning-sign text-warning" ng-show="order.checkMap.productInventoryNotEnoughError"></span>
                                    </div>
                                </td>
                                <td width="5%" class="text-center">
                                    <div ng-show="!order.ignoreCheck">
                                        <span class="glyphicon glyphicon-ok text-success" ng-show="!order.checkMap.orderExistOutInventorySheetError"></span>
                                        <span class="glyphicon glyphicon-warning-sign text-warning" ng-show="order.checkMap.orderExistOutInventorySheetError"></span>
                                    </div>
                                </td>
                                <td width="5%" class="text-center">
                                    <button type="button" class="btn btn-danger btn-xs btn-block" ng-click="moveOut(order)" ng-show="!order.ignoreCheck">移出</button>
                                    <button type="button" class="btn btn-success btn-xs btn-block" ng-click="recover(order)" ng-show="order.ignoreCheck">回复</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
